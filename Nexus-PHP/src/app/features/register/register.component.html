<section>
    <div class="register">
        <h1>Crear cuenta</h1>
        <form [formGroup]="form" (submit)="onRegister()">
            <div>
                <label for="nick">Nombre de usuario</label>
                <input formControlName="nick" placeholder="Ej. Impala67">
                @for (msg of errorMessages['nick']; track msg) {
                <span class="errorMessage">{{msg}}</span>
                }
            </div>
            <div>
                <label for="name">Nombre</label>
                <input formControlName="name" placeholder="Ej. Dean">
                @for (msg of errorMessages['nombre']; track msg) {
                <span class="errorMessage">{{msg}}</span>
                }
            </div>
            <div>
                <label for="surname1">Apellido</label>
                <input formControlName="surname1" placeholder="Ej. Winchester">
                @for (msg of errorMessages['apellido']; track msg) {
                <span class="errorMessage">{{msg}}</span>
                }
            </div>
            <div>
                <label for="email">Email</label>
                <input formControlName="email" placeholder="Ej. user@dominio.com">
                @for (msg of errorMessages['email']; track msg) {
                <span class="errorMessage">{{msg}}</span>
                }
            </div>
            <div>
                <label for="password">Contraseña</label>
                <div class="password-input">
                    <input [type]="showPassword1 ? 'text' : 'password'" formControlName="password" placeholder="">
                    <i class="fa-solid" [class.fa-eye]="!showPassword1" [class.fa-eye-slash]="showPassword1"
                        (click)="showPassword1 = !showPassword1">
                    </i>
                </div>
                @for (msg of errorMessages['password']; track msg) {
                <span class="errorMessage">{{msg}}</span>
                }
            </div>
            <div>
                <label for="password2">Repetir contraseña</label>
                <div class="password-input">
                    <input [type]="showPassword2 ? 'text' : 'password'" formControlName="password2" placeholder="">
                    <i class="fa-solid" [class.fa-eye]="!showPassword2" [class.fa-eye-slash]="showPassword2"
                        (click)="showPassword2 = !showPassword2">
                    </i>
                </div>
                @for (msg of errorMessages['password2']; track msg) {
                <span class="errorMessage">{{msg}}</span>
                }
            </div>
            <div>
                @for (msg of errorMessages['global']; track msg) {
                <span class="errorMessage errorMessageGlobal">{{msg}}</span>
                }
            </div>
            <button type="submit">Enviar</button>
        </form>
        <div class="redirect">
            <span>¿Ya tienes cuenta?</span><a routerLink="/login" class="link">Iniciar sesión</a>
        </div>
    </div>
</section>